!function(e,t){if("object"==typeof module&&"object"==typeof module.exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var n=e.classes,i=t();i.noConflict=function(){return e.classes===i&&(e.classes=n),i},e.classes=i}}(this,function(){var e=Object.prototype,t=Function.prototype,i=Object.getPrototypeOf,n=Array.isArray,r=e.toString,o=e.hasOwnProperty,s=t.toString,l={isObject:function(e){return!!e&&"object"==typeof e},isPlainObject:function(e){if(!e||"[object Object]"!==r.call(e))return!1;var t=i(e);if(null===t)return!0;var n=o.call(t,"constructor")&&t.constructor;return"function"==typeof n&&s.call(n)===s.call(Object)},isArray:n||function(e){return"[object Array]"===r.call(e)},isFunction:function(e){return"[object Function]"===r.call(e)||"function"==typeof e},isBoolean:function(e){return!0===e||!1===e||"[object Boolean]"===r.call(e)},isString:function(e){return"[object String]"===r.call(e)},isElement:function(e){return l.isObject(e)&&!l.isPlainObject(e)&&1===e.nodeType},stripAndCollapse:function(e){return e.match(/[^\x20\t\r\n\f]+/g)||[]},classesToArray:function(e){return l.isArray(e)?e:l.isString(e)?l.stripAndCollapse(e):[]}};function a(e){if(!l.isElement(e))throw new TypeError("a DOM element is required");this.element=e}function c(e){return new a(e)}return a.prototype.value=function(e){return l.isFunction(e)?this.value(e.call(this)):l.isString(e)?(e=l.stripAndCollapse(e),this.element.className=e.join(" "),this):l.stripAndCollapse(this.element.className)},a.prototype.has=function(e){var t=this.value();if(e=l.stripAndCollapse(e),t.length<e.length)return!1;for(var n=0,i=e.length;n<i;n++)if(-1===t.indexOf(e[n]))return!1;return!0},a.prototype.add=function(e){if(l.isFunction(e))return this.add(e.call(this));if(0<(e=l.classesToArray(e)).length){for(var t,n=this.value(),i=n.join(" "),r=0;t=e[r++];)-1===n.indexOf(t)&&n.push(t);i!==(n=n.join(" "))&&(this.element.className=n,delete this.element.previousClassName)}return this},a.prototype.remove=function(e){if(0===arguments.length)this.element.className="",delete this.element.previousClassName;else{if(l.isFunction(e))return this.remove(e.call(this));if(0<(e=l.classesToArray(e)).length){for(var t,n=this.value(),i=n.join(" "),r=0;t=e[r++];){var s=n.indexOf(t);-1!==s&&n.splice(s,1)}i!==(n=n.join(" "))&&(this.element.className=n,delete this.element.previousClassName)}}return this},a.prototype.toggle=function(e,t){var n=l.isString(e)||l.isArray(e);if(l.isBoolean(t)&&n)return t?this.add(e):this.remove(e);if(l.isFunction(e))return this.toggle(e.call(this),t);if(n){e=l.classesToArray(e);for(var i,r=0;i=e[r++];)this.has(i)?this.remove(i):this.add(i)}else if(void 0===e||l.isBoolean(e)){var s=this.value().join(" ");s&&(this.element.previousClassName=s),this.element.className=s||!1===e?"":this.element.previousClassName||""}return this},c.create=function(){for(var e=[],t=0,n=arguments.length;t<n;t++){var i=arguments[t];if(i)if(l.isString(i))e.push(i);else if(l.isArray(i)&&0<i.length){var r=c.create.apply(null,i);r&&e.push(r)}else if(l.isPlainObject(i))for(var s in i)o.call(i,s)&&i[s]&&e.push(s)}return e.join(" ")},c});